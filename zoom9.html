<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <script type="text/javascript" src="js/jquery-3.2.1.min.js" ></script>
    <script src="js/d3.v4.min.js"></script>
</head>
<body>
<svg width="960" height="500" class="col-sm-11"></svg>
<!--<div id="btn" class="col-sm-1">	
<button class="btn btn-primary show" title="Hospital" flag="0">Hospital</button>
<button class="btn btn-primary show" title="Telephone" flag="0">Telephone</button>
<button class="btn btn-primary show" title="AccidentCase" flag="0">AccidentCase</button>
<button class="btn btn-primary show" title="Customer" flag="0">Customer</button>
<button class="btn btn-primary show" title="Employee" flag="0">Employee</button>

</div>-->
</body>
<!--初始化力导向图-->
<script type="text/javascript">
var dataset={
    "nodes": [
        {
            "id": 95771,
            "labelName": "QID153000006772",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "QID153000006772",
            "orgno": "00000000000018",
            "pfmoney": "5000.0",
            "qzflag": "0",
            "value": 1
        },
        {
            "id": 938107,
            "labelName": "青岛大学医学院附属医院",
            "type": "Hospital",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": "3702020001",
            "hospitaLevel": "02",
            "hospitalName": "青岛大学医学院附属医院",
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 5
        },
        {
            "id": 1231650,
            "labelName": "张玉香",
            "type": "Customer",
            "customerId": "370224195812152623",
            "customerName": "张玉香",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 10
        },
        {
            "id": 1844100,
            "labelName": "13864863881",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "13864863881",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 3
        },
        {
            "id": 915074,
            "labelName": "QIDD0009",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "QIDD0009",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 7
        },
        {
            "id": 574343,
            "labelName": "QID153000005468",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "QID153000005468",
            "orgno": "00000000000018",
            "pfmoney": "1100.0",
            "qzflag": "0",
            "value": 13
        },
        {
            "id": 636600,
            "labelName": "李玉春",
            "type": "Customer",
            "customerId": "370206195807193620",
            "customerName": "李玉春",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 19
        },
        {
            "id": 773161,
            "labelName": "13969780962",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "13969780962",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 3
        },
        {
            "id": 871535,
            "labelName": "QID20121",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "QID20121",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 17
        },
        {
            "id": 431259,
            "labelName": "QID163000003498",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "QID163000003498",
            "orgno": "00000000000018",
            "pfmoney": "528.0",
            "qzflag": "0",
            "value": 11
        },
        {
            "id": 1557459,
            "labelName": "齐宁",
            "type": "Customer",
            "customerId": "370203198408088238",
            "customerName": "齐宁",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 11
        },
        {
            "id": 1775252,
            "labelName": "13853276077",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "13853276077",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 6
        },
        {
            "id": 834371,
            "labelName": "QID20135",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "QID20135",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 3
        },
        {
            "id": 337057,
            "labelName": "QID173000004191",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "QID173000004191",
            "orgno": "00000000000018",
            "pfmoney": "2508.0",
            "qzflag": "0",
            "value": 10
        },
        {
            "id": 1493115,
            "labelName": "杨孟达",
            "type": "Customer",
            "customerId": "370205196309126036",
            "customerName": "杨孟达",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 2
        },
        {
            "id": 1488144,
            "labelName": "18553298906",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "18553298906",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 7
        },
        {
            "id": 893843,
            "labelName": "QID10057",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "QID10057",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 9
        },
        {
            "id": 346621,
            "labelName": "JIN163000001718",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "JIN163000001718",
            "orgno": "00000000000017",
            "pfmoney": "20000.0",
            "qzflag": "0",
            "value": 10
        },
        {
            "id": 1321156,
            "labelName": "纪树朋",
            "type": "Customer",
            "customerId": "372826196502267216",
            "customerName": "纪树朋",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 10
        },
        {
            "id": 1171791,
            "labelName": "13562399202",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "13562399202",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 16
        },
        {
            "id": 866180,
            "labelName": "JINF5153",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "JINF5153",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 19
        },
        {
            "id": 397535,
            "labelName": "TAY163000000334",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "TAY163000000334",
            "orgno": "00000000000004",
            "pfmoney": "4000.0",
            "qzflag": "0",
            "value": 13
        },
        {
            "id": 938108,
            "labelName": "运城市中心医院",
            "type": "Hospital",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": "1408000194",
            "hospitaLevel": "02",
            "hospitalName": "运城市中心医院",
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 5
        },
        {
            "id": 1574183,
            "labelName": "刘小雷",
            "type": "Customer",
            "customerId": "142631198409295315",
            "customerName": "刘小雷",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 6
        },
        {
            "id": 1902647,
            "labelName": "15135778707",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "15135778707",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 5
        },
        {
            "id": 887605,
            "labelName": "TAYMS351",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "TAYMS351",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 17
        },
        {
            "id": 615097,
            "labelName": "TAY153000002397",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "TAY153000002397",
            "orgno": "00000000000004",
            "pfmoney": "15000.0",
            "qzflag": "0",
            "value": 15
        },
        {
            "id": 1770126,
            "labelName": "闫永生",
            "type": "Customer",
            "customerId": "142703195212283317",
            "customerName": "闫永生",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 1
        },
        {
            "id": 1613745,
            "labelName": "15235689967",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "15235689967",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 12
        },
        {
            "id": 887376,
            "labelName": "TAYM7202",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "TAYM7202",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 8
        },
        {
            "id": 404130,
            "labelName": "TAY153000002671",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "TAY153000002671",
            "orgno": "00000000000004",
            "pfmoney": "1152.94",
            "qzflag": "0",
            "value": 2
        },
        {
            "id": 684380,
            "labelName": "张亚哲",
            "type": "Customer",
            "customerId": "142725198811056812",
            "customerName": "张亚哲",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 8
        },
        {
            "id": 1476640,
            "labelName": "13353594429",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "13353594429",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 1
        },
        {
            "id": 818411,
            "labelName": "TAYM045A",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "TAYM045A",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 7
        },
        {
            "id": 521468,
            "labelName": "TAY163000005569",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "TAY163000005569",
            "orgno": "00000000000004",
            "pfmoney": "13494.1",
            "qzflag": "0",
            "value": 5
        },
        {
            "id": 1677222,
            "labelName": "范红涛",
            "type": "Customer",
            "customerId": "142702197908092415",
            "customerName": "范红涛",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 18
        },
        {
            "id": 1558496,
            "labelName": "13663594566",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "13663594566",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 4
        },
        {
            "id": 885237,
            "labelName": "TAYMV062",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "TAYMV062",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 13
        },
        {
            "id": 320053,
            "labelName": "TAY153000006099",
            "type": "AccidentCase",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": "TAY153000006099",
            "orgno": "00000000000004",
            "pfmoney": "331.87",
            "qzflag": "0",
            "value": 18
        },
        {
            "id": 626559,
            "labelName": "张志茹",
            "type": "Customer",
            "customerId": "142732199004122826",
            "customerName": "张志茹",
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 1
        },
        {
            "id": 1371882,
            "labelName": "15835399272",
            "type": "Telephone",
            "customerId": null,
            "customerName": null,
            "telId": "15835399272",
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": null,
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 12
        },
        {
            "id": 817961,
            "labelName": "TAYMP954",
            "type": "Employee",
            "customerId": null,
            "customerName": null,
            "telId": null,
            "hospitalId": null,
            "hospitaLevel": null,
            "hospitalName": null,
            "empid": "TAYMP954",
            "accTime": null,
            "caseId": null,
            "orgno": null,
            "pfmoney": null,
            "qzflag": null,
            "value": 12
        }
    ],
    "links": [
        {
            "source": 0,
            "target": 4,
            "relation": "业务归属于",
            "value": 7
        },
        {
            "source": 2,
            "target": 0,
            "relation": "是投保人",
            "value": 10
        },
        {
            "source": 2,
            "target": 0,
            "relation": "是被保人",
            "value": 6
        },
        {
            "source": 2,
            "target": 0,
            "relation": "是报案人",
            "value": 4
        },
        {
            "source": 2,
            "target": 0,
            "relation": "是领款人",
            "value": 13
        },
        {
            "source": 2,
            "target": 3,
            "relation": "使用",
            "value": 3
        },
        {
            "source": 3,
            "target": 0,
            "relation": "是领款电话",
            "value": 8
        },
        {
            "source": 3,
            "target": 0,
            "relation": "是报案电话",
            "value": 19
        },
        {
            "source": 0,
            "target": 1,
            "relation": "治疗于",
            "value": 17
        },
        {
            "source": 5,
            "target": 8,
            "relation": "业务归属于",
            "value": 2
        },
        {
            "source": 6,
            "target": 5,
            "relation": "是投保人",
            "value": 14
        },
        {
            "source": 6,
            "target": 5,
            "relation": "是被保人",
            "value": 11
        },
        {
            "source": 6,
            "target": 5,
            "relation": "是报案人",
            "value": 19
        },
        {
            "source": 6,
            "target": 5,
            "relation": "是领款人",
            "value": 13
        },
        {
            "source": 6,
            "target": 7,
            "relation": "使用",
            "value": 19
        },
        {
            "source": 7,
            "target": 5,
            "relation": "是领款电话",
            "value": 3
        },
        {
            "source": 7,
            "target": 5,
            "relation": "是报案电话",
            "value": 19
        },
        {
            "source": 5,
            "target": 1,
            "relation": "治疗于",
            "value": 7
        },
        {
            "source": 9,
            "target": 12,
            "relation": "业务归属于",
            "value": 5
        },
        {
            "source": 10,
            "target": 9,
            "relation": "是投保人",
            "value": 11
        },
        {
            "source": 10,
            "target": 9,
            "relation": "是被保人",
            "value": 11
        },
        {
            "source": 10,
            "target": 9,
            "relation": "是报案人",
            "value": 4
        },
        {
            "source": 10,
            "target": 9,
            "relation": "是领款人",
            "value": 16
        },
        {
            "source": 10,
            "target": 11,
            "relation": "使用",
            "value": 9
        },
        {
            "source": 11,
            "target": 9,
            "relation": "是领款电话",
            "value": 3
        },
        {
            "source": 11,
            "target": 9,
            "relation": "是报案电话",
            "value": 10
        },
        {
            "source": 9,
            "target": 1,
            "relation": "治疗于",
            "value": 3
        },
        {
            "source": 13,
            "target": 16,
            "relation": "业务归属于",
            "value": 10
        },
        {
            "source": 14,
            "target": 13,
            "relation": "是投保人",
            "value": 13
        },
        {
            "source": 14,
            "target": 13,
            "relation": "是被保人",
            "value": 5
        },
        {
            "source": 14,
            "target": 13,
            "relation": "是报案人",
            "value": 17
        },
        {
            "source": 14,
            "target": 13,
            "relation": "是领款人",
            "value": 6
        },
        {
            "source": 14,
            "target": 15,
            "relation": "使用",
            "value": 19
        },
        {
            "source": 15,
            "target": 13,
            "relation": "是领款电话",
            "value": 16
        },
        {
            "source": 15,
            "target": 13,
            "relation": "是报案电话",
            "value": 6
        },
        {
            "source": 13,
            "target": 1,
            "relation": "治疗于",
            "value": 17
        },
        {
            "source": 17,
            "target": 20,
            "relation": "业务归属于",
            "value": 1
        },
        {
            "source": 18,
            "target": 17,
            "relation": "是投保人",
            "value": 12
        },
        {
            "source": 18,
            "target": 17,
            "relation": "是被保人",
            "value": 2
        },
        {
            "source": 18,
            "target": 17,
            "relation": "是报案人",
            "value": 13
        },
        {
            "source": 18,
            "target": 17,
            "relation": "是领款人",
            "value": 17
        },
        {
            "source": 18,
            "target": 19,
            "relation": "使用",
            "value": 9
        },
        {
            "source": 19,
            "target": 17,
            "relation": "是领款电话",
            "value": 16
        },
        {
            "source": 19,
            "target": 17,
            "relation": "是报案电话",
            "value": 2
        },
        {
            "source": 17,
            "target": 1,
            "relation": "治疗于",
            "value": 7
        },
        {
            "source": 21,
            "target": 25,
            "relation": "业务归属于",
            "value": 11
        },
        {
            "source": 23,
            "target": 21,
            "relation": "是投保人",
            "value": 13
        },
        {
            "source": 23,
            "target": 21,
            "relation": "是被保人",
            "value": 9
        },
        {
            "source": 23,
            "target": 21,
            "relation": "是报案人",
            "value": 7
        },
        {
            "source": 23,
            "target": 21,
            "relation": "是领款人",
            "value": 13
        },
        {
            "source": 23,
            "target": 24,
            "relation": "使用",
            "value": 8
        },
        {
            "source": 24,
            "target": 21,
            "relation": "是领款电话",
            "value": 7
        },
        {
            "source": 24,
            "target": 21,
            "relation": "是报案电话",
            "value": 4
        },
        {
            "source": 21,
            "target": 22,
            "relation": "治疗于",
            "value": 16
        },
        {
            "source": 26,
            "target": 29,
            "relation": "业务归属于",
            "value": 7
        },
        {
            "source": 27,
            "target": 26,
            "relation": "是投保人",
            "value": 16
        },
        {
            "source": 27,
            "target": 26,
            "relation": "是被保人",
            "value": 5
        },
        {
            "source": 27,
            "target": 26,
            "relation": "是报案人",
            "value": 7
        },
        {
            "source": 27,
            "target": 26,
            "relation": "是领款人",
            "value": 6
        },
        {
            "source": 27,
            "target": 28,
            "relation": "使用",
            "value": 18
        },
        {
            "source": 28,
            "target": 26,
            "relation": "是领款电话",
            "value": 15
        },
        {
            "source": 28,
            "target": 26,
            "relation": "是报案电话",
            "value": 9
        },
        {
            "source": 26,
            "target": 22,
            "relation": "治疗于",
            "value": 12
        },
        {
            "source": 30,
            "target": 33,
            "relation": "业务归属于",
            "value": 11
        },
        {
            "source": 31,
            "target": 30,
            "relation": "是投保人",
            "value": 11
        },
        {
            "source": 31,
            "target": 30,
            "relation": "是被保人",
            "value": 7
        },
        {
            "source": 31,
            "target": 30,
            "relation": "是报案人",
            "value": 6
        },
        {
            "source": 31,
            "target": 30,
            "relation": "是领款人",
            "value": 4
        },
        {
            "source": 31,
            "target": 32,
            "relation": "使用",
            "value": 10
        },
        {
            "source": 32,
            "target": 30,
            "relation": "是领款电话",
            "value": 12
        },
        {
            "source": 32,
            "target": 30,
            "relation": "是报案电话",
            "value": 1
        },
        {
            "source": 30,
            "target": 22,
            "relation": "治疗于",
            "value": 1
        },
        {
            "source": 34,
            "target": 37,
            "relation": "业务归属于",
            "value": 10
        },
        {
            "source": 35,
            "target": 34,
            "relation": "是投保人",
            "value": 7
        },
        {
            "source": 35,
            "target": 34,
            "relation": "是被保人",
            "value": 1
        },
        {
            "source": 35,
            "target": 34,
            "relation": "是报案人",
            "value": 5
        },
        {
            "source": 35,
            "target": 34,
            "relation": "是领款人",
            "value": 4
        },
        {
            "source": 35,
            "target": 36,
            "relation": "使用",
            "value": 2
        },
        {
            "source": 36,
            "target": 34,
            "relation": "是领款电话",
            "value": 17
        },
        {
            "source": 36,
            "target": 34,
            "relation": "是报案电话",
            "value": 1
        },
        {
            "source": 34,
            "target": 22,
            "relation": "治疗于",
            "value": 13
        },
        {
            "source": 38,
            "target": 41,
            "relation": "业务归属于",
            "value": 14
        },
        {
            "source": 39,
            "target": 38,
            "relation": "是投保人",
            "value": 11
        },
        {
            "source": 39,
            "target": 38,
            "relation": "是被保人",
            "value": 16
        },
        {
            "source": 39,
            "target": 38,
            "relation": "是报案人",
            "value": 4
        },
        {
            "source": 39,
            "target": 38,
            "relation": "是领款人",
            "value": 7
        },
        {
            "source": 39,
            "target": 40,
            "relation": "使用",
            "value": 13
        },
        {
            "source": 40,
            "target": 38,
            "relation": "是领款电话",
            "value": 19
        },
        {
            "source": 40,
            "target": 38,
            "relation": "是报案电话",
            "value": 12
        },
        {
            "source": 38,
            "target": 22,
            "relation": "治疗于",
            "value": 12
        }
    ]
};
var nodes = dataset.nodes;
var links = dataset.links;
    var width = 960;
    var height = 800;
    var svg = d3.select("svg")
        .attr("width",width)
        .attr("height",height);
    var circle_radius = 30;
 
// 通过布局来转换数据，然后进行绘制
var simulation = d3.forceSimulation(nodes)
    .force("link", d3.forceLink(links).distance(200))
    .force("charge",d3.forceManyBody().strength(-100))
    .force("center",d3.forceCenter(width/2, height/2));
 
    var color = d3.scaleOrdinal(d3.schemeCategory20);
    // 绘制线
    var svg_links = svg.selectAll("path")
        .data(links)
        .enter()
        .append("path")
        .attr("id",function(d,i){
        	return "edgepath"+i;
        })
        .style("stroke",function(d){
        	return color(d.value);
        })
        .style("stroke-width",3);
       
    //节点对象
    var svg_nodes = svg.selectAll("circle")
        .data(nodes)
        .enter()
        .append("circle")
        .attr("r",circle_radius)
        .attr("title",function(d){
        	return d.type;
        })
        .attr("comment",function(d){return d.labelName})
        .attr("id",function(d,i){
        	return "cid"+i;
        })
        .call(d3.drag()
            .on("start", dragstarted)
            .on("drag", dragged)
            .on("end", dragended));
 //节点描述
    var node_text = svg.selectAll("text")
        .data(nodes)
        .enter()
        .append("text")
        .style("fill","#000")
        .attr("dominant-baseline","middle")
        .attr("id",function(i,d){return "nodetext"+d;})
        .attr("text-anchor", "middle")//在圆圈中加上数据
        .text(function(d){
        	return d.labelName;});
        	
  //关系描述      	
 	var edges_text = svg.append("g").selectAll(".edgelabel")
	.data(links)
	.enter()
	.append("text")
	.style("pointer-events", "none").
	style("fill",function(d){
		return color(d.value)
	}).attr("class","edgelabel")
	.attr("id",function(d,i){return 'edgetext'+i;})
	.attr("dx",80)
	.attr("dy",0)
	.attr("font-size",10);
//设置线条上的文字
	edges_text.append('textPath')
	.attr('xlink:href',function(d,i) {return '#edgepath'+i})
	.style("pointer-events", "none")
	.text(function(d){return d.relation;});
    /**
     * 节点（开始）拖拽事件
     */
    function dragstarted(d) {
        if (!d3.event.active)
            simulation.alphaTarget(0.002).restart();
        d.fx = d.x;
        d.fy = d.y;
    }
 
    /**
     * 节点拖拽事件
     */
    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }
 
    /**
     * 节点（结束）拖拽事件
     */
    function dragended(d) {
        if (!d3.event.active)
            simulation.alphaTarget(0);
    }
    
    //箭头
    var marker=
        svg.append("marker")
            .attr("id", "resolved")
            .attr("markerUnits","userSpaceOnUse")
            .attr("viewBox", "0 -5 10 10")//坐标系的区域
            .attr("refX",34)//箭头坐标
            .attr("refY", -1)
            .attr("markerWidth", 12)//标识的大小
            .attr("markerHeight", 12)
            .attr("orient", "auto")//绘制方向，可设定为：auto（自动确认方向）和 角度值
            .attr("stroke-width",2)//箭头宽度
            .append("path")
            .attr("d", "M0,-5L10,0L0,5")//箭头的路径
            .attr('fill','#000000');//箭头颜色
 
 
    function draw(){
        svg_nodes
            .attr("cx",function(d){return d.x;})
            .attr("cy",function(d){return d.y;})
            .attr("fill",function (d) {
                return color(d.value);
            });
 
        node_text
            .attr("x", function(d){ return d.x; })
            .attr("y", function(d){ return d.y; });
 
        svg_links
            .attr("d",function(d){
                return 'M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y
            })
            .attr("marker-end", "url(#resolved)");
//      edges_text.attr('transform',function(d){
//      if (d.target.x<d.source.x){
//          bbox = this.getBBox();
//          rx = bbox.x+bbox.width/2;
//          ry = bbox.y+bbox.height/2;
//          return 'rotate(180 '+rx+' '+ry+')';
//      }
//      else {
//          return 'rotate(0)';
//      }
// 		});
		edges_text.attr({
			"x":function(d){return (d.source.x+d.target.x)/2},
			"y":function(d){return (d.source.y+d.target.y)/2},
		})
    }
    simulation.on("tick",draw);
    svg.call(d3.zoom().scaleExtent([0.05, 8]).on('zoom', () => {
        // 保存当前缩放的属性值
        var transform = d3.event.transform;
        svg_nodes.attr('transform', transform);
        svg_links.attr("transform",transform);
        node_text.attr("transform",transform);
//      edges_text.attr("transform",transform);
    })).on('dblclick.zoom', null);
 
</script>
<!--点击节点，关系和节点收缩-->
<script>
	$(function(){
		//遍历node节点
			//当发生点击事件时，触发函数，获取到当前点击的节点
			var flag =0;
			var hosflag = 0;
			var empflag = 0;
			$("circle").attr("flag",flag);
			$(document).on("click","circle",function(){
				var text = $(this).attr("comment");//节点实际显示内容
				var title = $(this).attr("title");
				var flag = $(this).attr("flag");
				if(title == 'AccidentCase'){
					if(flag %2 ==0){
						$.each(links, function(i,d) {
							var source = links[i].source;
							var target = links[i].target;
							var sourcelabel = source.labelName;
							var targetlabel = target.labelName;
							if(sourcelabel == text){
								$.each(nodes, function(index,val) {
									var label = val.labelName;
									var type = val.type;
									if(targetlabel == label){
										$("#cid"+index).show();
										$("#nodetext"+index).show();
									}
								});
								$("#edgepath"+i).show();
								$("#edgetext"+i).show();
								if(target.type == "Hospital"){
											if($("#edgepath"+i).is(":visible")){
												hosflag++;
											}
								}
								if(target.type == "Employee"){
											if($("#edgepath"+i).is(":visible")){
												empflag++;
											}
								}
							}
							if(targetlabel == text){
								$.each(nodes, function(index,val) {
									var label = val.labelName;
									if(sourcelabel == label){
										$("#cid"+index).show();
										$("#nodetext"+index).show();
									}
								});
								$("#edgepath"+i).show();
								$("#edgetext"+i).show();
								
							}
							
						});
						flag ++;
						$(this).attr("flag",flag);
				}else{
						$.each(links, function(i,d) {
							var source = links[i].source;
							var target = links[i].target;
							var sourcelabel = source.labelName;
							var targetlabel = target.labelName;
							if(sourcelabel == text){
								$.each(nodes, function(index,val) {
									var label = val.labelName;//节点描述
									if(targetlabel == label ){
										if(target.type=="Hospital"){
											if($("#edgepath"+i).is(":visible")){
												hosflag--;
											}
										}
										if(target.type=="Employee"){
											if($("#edgepath"+i).is(":visible")){
												empflag--;
											}
										}
										if(hosflag>0){
											$("#cid"+index).show();
											$("#nodetext"+index).show();
										}else{
											$("#cid"+index).hide();
											$("#nodetext"+index).hide();
										}
										if(empflag>0){
											$("#cid"+index).show();
											$("#nodetext"+index).show();
										}else{
											$("#cid"+index).hide();
											$("#nodetext"+index).hide();
										}
										
									}
								});
										if(hosflag>1){
											$("#edgepath"+i).hide();
											$("#edgetext"+i).hide();
										}else{
											$("#edgepath"+i).hide();
											$("#edgetext"+i).hide();
										}
										if(empflag>1){
											$("#edgepath"+i).hide();
											$("#edgetext"+i).hide();
										}else{
											$("#edgepath"+i).hide();
											$("#edgetext"+i).hide();
										}
//								$("#edgepath"+i).hide();
//								$("#edgetext"+i).hide();
							}
							if(targetlabel == text){
								$.each(nodes, function(index,val) {
									var label = val.labelName;
									var type = val.type;//获取该数据是什么类型的节点
									if(sourcelabel == label){
										$("#cid"+index).hide();
										$("#nodetext"+index).hide();
									}
								});
								$("#edgepath"+i).hide();
								$("#edgetext"+i).hide();
							}
							
						});
						flag ++;
						$(this).attr("flag",flag);
						}
				}
			});
			
	});
</script>
<!--点击button按钮，对应节点和边关系进入隐藏状态
-->
<script>
$(function(){
	var flag = 0;
	$(document).on("click",".show",function(){
				var flag = $(this).attr("flag");
				if(flag%2 == 0){//flag %2 ==0 是显示状态，点击隐藏
					var label = $(this).attr("title");//获取当前的节点名字，根据此变量判断此节点和那些边对应。
					$.each(nodes, function(index,val) {
						var text = $("circle:eq("+index+")").attr("title");
						console.log("circle.text="+text);
						if(text == label){
							$.each(links, function(i,d) {
									var source = links[i].source;
									var target = links[i].target;
									if(source.type==label || target.type == label ){
										var textid = "#edgetext" + i+"";
										var pathid = "#edgepath"+i+"";
										$(textid).hide();
										$(pathid).hide();
										var ttch = "text:eq(" + index + ")";
										$(ttch).hide();
									}
							});
							$("circle:eq("+index+")").hide();
						}
					});
					flag ++;
					$(this).attr("flag",flag);
				}else{
					var label = $(this).attr("title");//获取当前的节点名字，根据此变量判断此节点和那些边对应。
					$.each(nodes, function(index,val) {
						var text = $("circle:eq("+index+")").attr("title");
						console.log("circle.text="+text);
						if(text == label){
							$.each(links, function(i,d) {
									var source = links[i].source;
									var target = links[i].target;
									if(source.type==label || target.type == label ){
										var textid = "#edgetext" + i+"";
										var pathid = "#edgepath"+i+"";
											console.log(textid);
											console.log(pathid);
										$(textid).show();
										$(pathid).show();
										var ttch = "text:eq(" + index + ")";
										$(ttch).show();
									}
							});
							$("circle:eq("+index+")").show();
						}
					});
					flag ++;
					$(this).attr("flag",flag);
				}
	});

	//点击标签收缩
	
});
</script>
<script>
$(function(){
	$("circle").hide();
	$("path").hide();
	$("text").hide();
	var circles = document.getElementsByTagName("circle");
	for (var i=0;i<circles.length;i++) {
		var type = circles[i].getAttribute("title");
		if(type == "AccidentCase"){
			$("circle:eq("+i+")").show();
			$("#nodetext"+i).show();
		}
		
	}
})
</script>
</html>
 
<!----------------------- 
作者：xu187 
来源：CSDN 
原文：https://blog.csdn.net/xu187/article/details/80256587 
版权声明：本文为博主原创文章，转载请附上博文链接！-->